<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="OD_invoices_without_payment" model="ir.actions.report">
        <field name="name">OD Facture</field>
        <field name="model">account.move</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">product_website_addons.print_facture_template</field>
        <field name="report_file">product_website_addons.print_facture_template</field>
        <field name="print_report_name">(object._get_report_base_filename())</field>
        <field name="attachment"/>
        <field name="binding_model_id" ref="account.model_account_move"/>
        <field name="binding_type">report</field>
        <field name="domain" eval="[('move_type', '!=', 'entry')]"/>
    </record>

    <template id="print_facture_template_document">
        <t t-set="o" t-value="o.with_context(lang=o.partner_id.lang)"/>
        <main style="font-size: 18px;">
            <t t-set="company" t-value="o.company_id"/>
            <div class="page" style="padding: 0px; margin: 0;">
                <table style="width: 100%; border-collapse: collapse; margin-top: 5px; border: 1px solid white;">
                    <tr>
                        <td style="width: 57%; font-size: 14px; border: 1px solid white;">
                            <strong>Contact :</strong>
                            <t t-esc="o.partner_id.name or ''"/>
                            <br/>
                            <strong>Email</strong>
                            <t t-esc="o.partner_id.email or ''"/>
                            <br/>
                            <strong>Votre n° commande</strong>
                            <t t-esc="o.invoice_origin or ''"/>
                            <br/>
                            <strong>N° Facture</strong>
                            <t t-esc="o.name or ''"/>
                            <br/>
                            <strong>Date :</strong>
                            <t t-esc="o.invoice_date.strftime('%d/%m/%Y') if o.invoice_date else ''"/>
                        </td>

                        <td style="width: 43%; font-size: 14px; border: 1px solid white;">
                            <strong>Company :</strong>
                            <t t-esc="o.company_id.name or ''"/>
                            <br/>
                            <strong>Address :</strong>
                            <t t-esc="o.company_id.street or ''"/>,
                            <t t-esc="o.company_id.city or ''"/>
                            -
                            <t t-esc="o.company_id.zip or ''"/>
                            <br/>
                            <strong>Country :</strong>
                            <t t-esc="o.company_id.country_id.name or ''"/>
                            <br/>
                            <strong>Email :</strong>
                            <t t-esc="o.company_id.email or ''"/>
                            <br/>
                            <strong>Phone :</strong>
                            <t t-esc="o.company_id.phone or ''"/>
                        </td>
                    </tr>
                </table>
                <div style="background-color: #dfecf5; color: black; text-align: center; padding: 5px; font-size: 16px; font-weight: bold;">
                    Facture
                </div>
            </div>
        </main>
<!--        <t t-call="product_website_addons.exemple_footer_invoice"/>-->
    </template>

<!--    <template id="exemple_footer_invoice">-->
<!--        <t t-extend="web.external_layout_footer">-->
<!--            <t t-jquery="div.footer" t-operation="replace">-->
<!--                <div class="footer" style="width: 100%; font-size: 12px;">-->
<!--                    <table style="width: 100%; border-collapse: collapse; border: 1px solid white;">-->
<!--                        <tr>-->
<!--                            <td style="text-align: left; vertical-align: middle; padding-left: 10px; width: 70%;">-->
<!--                                <t t-raw="o.invoice_footer"/>-->
<!--                            </td>-->
<!--                            <td style="text-align: right; vertical-align: middle; padding-right: 10px; width: 30%;">-->
<!--                                <img t-att-src="'/product_website_addons/static/src/img/logo_footer.png'"-->
<!--                                     style="max-height: 50px; width: auto;"/>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                    </table>-->
<!--                </div>-->
<!--            </t>-->
<!--        </t>-->
<!--    </template>-->


    <template id="print_facture_template">
        <t t-call="web.external_layout">
            <t t-foreach="docs" t-as="o">
                <t t-call="product_website_addons.print_facture_template_document"
                   t-lang="o.partner_id.lang or 'fr_FR'"/>
            </t>
        </t>
    </template>


</odoo>